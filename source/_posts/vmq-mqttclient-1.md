---
title: vmq-从零开始的MQTT客户端-1-简介
url: vmq-mqttclient-1
date: 2024-02-04 16:43:01
categories:
- vmq
tags:
- vmq
- MQTT
- 网络编程
- Go
---

开始一个新的项目总是让人兴奋，虽然能意识到这意味着之后几个月甚至几年的努力，但是还是忍不住去幻想一个项目蓬勃发展，枝繁叶茂后带给人的满足感。

<!-- more -->

# 起因

近四年来我一直在一家物联网公司工作，少不了与 Go 和 MQTT 打交道。在进行每一个项目的复盘和总结时，我总是会说这几句话：“这个项目其实这样设计会更好”、“如果一开始就知道，那么这个项目应该这样去设计”、“下个项目我们要尽量使用这样的设计”。

我认为这种现象是一种被动学习，因为我对技术了解的不够广泛，或者不够深刻彻底，所以才会在项目中频频遇到预料之外的问题，然后在解决的过程中学习到很多。虽然这样也解决了项目问题，也获得了学习进步，但是实际上浪费了一些公司的资源（用于陪我走弯路）。

所以，我想要更深入的了解我正在做的事情，这篇 [MQTT 5.0 中文文档](/mqtt-v5-0-chinese.html) 就是我做的尝试之一，而对文档进行实现就是我要做的尝试之二，也就是如本文标题所说的，**从零开始的 MQTT 客户端**。

# 为什么是vmq

vmq 是一个从零开始的，纯 Go 编写的 MQTT 客户端。好吧，那么为什么是这个选择？

为什么是 MQTT 客户端？

- 虽然是个业余时间制作的，半教学性质的项目，但我仍希望有一天 vmq 成长为工业级的软件。对于这样级别的目标来说，MQTT broker 显然有更大的工作体量，而从客户端开始则要简单许多。

为什么叫 vmq？

- 我喜欢三个字母的软件，例如 vue。

# vmq的将来会如何

老实说，我现在也不知道 vmq 将来会如何。也许有一天我无法继续坚持，vmq 在诞生之前就消失了、也可能我完成了 vmq，然后在项目中不断的使用，最后成为了公司的基础库之一、也有可能 vmq 被更多人使用，我的虚荣心获得了极大的满足。总之现在谈论这些实在是为时尚早，此时此刻的 vmq 只是一个计划。

此刻的 vmq 将由三个部分组成，[vmq](https://github.com/vitsumoc/vmq) 是我即将要实现的 MQTT 客户端，[vmq-tool](https://github.com/vitsumoc/vmq-tool) 是配套的图形化测试工具，[此博客](https://vitsumoc.github.io/) 中的系列文档则是对实现过程的教学。

vmq 预期会出一个教学版本，只对 MQTT 协议做最基本的支持，例如建立连接、断开、订阅、发布、会话等此类最基本的功能，此后的功能实现不会再有按步骤的教学博文，但仍会有一些讨论和总结性质的博文。

# 结尾

vmq-tool 会一直伴随着这个项目开发，用来对 vmq 的开发内容进行验证。但由于我的能力不足以系统性的总结一个图形化软件的设计开发过程，也是为了避免这一系列博文的主题过于混乱，之后的博文只会提及 vmq 的设计开发内容。

本章没有实质的代码，从下一章开始，我会沿着 MQTT5.0 规范做一些最基础的工作，例如 MQTT 5.0 中规定的 7 种数据表示。